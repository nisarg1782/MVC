<?php
$mediaBaseUrl = Mage::getBaseUrl() . "Media/catalog_media_gallery/";
$catdata = $this->getCategoryData();

?>
<script>
    function showdata() {
        var selectedCategories = $('input[name="category[]"]:checked').map(function() {
            return this.value;
        }).get();

        var mfg_date = $('input[name="mfg_date"]').val();

        $.ajax({
            url: "http://localhost/MVC/catalog/product/list/",
            type: "GET",
            data: {
                cid: selectedCategories, // Pass as an array
                mfgdate: mfg_date
            },
            dataType: "html",
            success: function(response) {
                console.log(response);
                $("#product_card").html(response);
            }
        });
    }
</script>
<!-- <style>
    .sidebar {
            width: 250px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }
    </style> -->
<div class="sidebar">
    <h3>Filters</h3>
    <?php foreach ($catdata as $category): ?>
        <label>
            <input type="checkbox" name="category[]" value="<?= $category->getCategoryId(); ?>" onchange="showdata()">
            <?php echo $category->getName(); ?>
        </label>
    <?php endforeach; ?>
    <input type="date" name="mfg_date" onchange="showdata()">
</div>